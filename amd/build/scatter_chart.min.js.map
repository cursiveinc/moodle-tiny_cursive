{"version":3,"file":"scatter_chart.min.js","sources":["../src/scatter_chart.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module scatter_chart\n *\n * @module     tiny_cursive/scatter_chart\n * @copyright  2025 Cursive Technology, Inc. <info@cursivetechnology.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Chart from 'core/chartjs'\nexport const init = (data) => {\n\n    const ctx = document.getElementById('effortScatterChart').getContext('2d');\n\n\n    new Chart(ctx, {\n        type: 'scatter',\n        data: {\n            datasets: data,\n        },\n        options: {\n            plugins: {\n                legend: {\n                    display: true,\n                    position: 'bottom',\n                    labels: {\n                        usePointStyle: true,\n                        pointStyle: 'circle',\n                        padding: 20\n                    }\n                },\n                tooltip: {\n                    backgroundColor: 'rgba(252, 252, 252, 0.8)',\n                    titleColor: '#000',\n                    bodyColor: '#000',\n                    borderColor: '#cccccc',\n                    borderWidth: 1,\n                    displayColors: false,\n                    callbacks: {\n                        title: function(context) {\n                            const d = context[0].raw;\n                            return d.label; // this appears as bold title\n                        },\n                        label: function(context) {\n                            const d = context.raw;\n                            return [\n                                `Time: ${formatTime(d.x)}`,\n                                `Effort: ${d.effort * 100}%`,\n                                `Words: ${d.words}`,\n                                `WPM: ${d.wpm}`\n                            ];\n                        }\n                    }\n                }\n            },\n            scales: {\n                x: {\n                    title: {\n                        display: true,\n                        text: 'Time Spent (mm:ss)'\n                    },\n                    min: 0,\n                    ticks: {\n                    callback: function(value) {\n                        return formatTime(value);\n                    }\n                }\n                },\n                y: {\n                    title: {\n                        display: true,\n                        text: 'Effort Score'\n                    },\n                    min: 0,\n                    max: 2,\n                    ticks: {\n                        stepSize: 0.5\n                    }\n                }\n            }\n        }\n    });\n\n    function formatTime(value) {\n        const minutes = Math.floor(value / 60);\n        const seconds = value % 60;\n        return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;\n    }\n}"],"names":["data","ctx","document","getElementById","getContext","formatTime","value","minutes","Math","floor","seconds","String","padStart","Chart","type","datasets","options","plugins","legend","display","position","labels","usePointStyle","pointStyle","padding","tooltip","backgroundColor","titleColor","bodyColor","borderColor","borderWidth","displayColors","callbacks","title","context","raw","label","d","x","effort","words","wpm","scales","text","min","ticks","callback","y","max","stepSize"],"mappings":";;;;;;;0JAwBqBA,aAEXC,IAAMC,SAASC,eAAe,sBAAsBC,WAAW,eAuE5DC,WAAWC,aACVC,QAAUC,KAAKC,MAAMH,MAAQ,IAC7BI,QAAUJ,MAAQ,SAChB,GAAEK,OAAOJ,SAASK,SAAS,EAAG,QAAQD,OAAOD,SAASE,SAAS,EAAG,WAvE1EC,iBAAMZ,IAAK,CACXa,KAAM,UACNd,KAAM,CACFe,SAAUf,MAEdgB,QAAS,CACLC,QAAS,CACLC,OAAQ,CACJC,SAAS,EACTC,SAAU,SACVC,OAAQ,CACJC,eAAe,EACfC,WAAY,SACZC,QAAS,KAGjBC,QAAS,CACLC,gBAAiB,2BACjBC,WAAY,OACZC,UAAW,OACXC,YAAa,UACbC,YAAa,EACbC,eAAe,EACfC,UAAW,CACPC,MAAO,SAASC,gBACFA,QAAQ,GAAGC,IACZC,OAEbA,MAAO,SAASF,eACNG,EAAIH,QAAQC,UACX,CACF,SAAQ9B,WAAWgC,EAAEC,KACrB,WAAqB,IAAXD,EAAEE,UACZ,UAASF,EAAEG,QACX,QAAOH,EAAEI,WAM9BC,OAAQ,CACJJ,EAAG,CACCL,MAAO,CACHd,SAAS,EACTwB,KAAM,sBAEVC,IAAK,EACLC,MAAO,CACPC,SAAU,SAASxC,cACRD,WAAWC,UAI1ByC,EAAG,CACCd,MAAO,CACHd,SAAS,EACTwB,KAAM,gBAEVC,IAAK,EACLI,IAAK,EACLH,MAAO,CACHI,SAAU"}