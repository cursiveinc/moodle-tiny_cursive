define("tiny_cursive/append_participants_table",["core/config","core/str"],(function(mdlcfg,Str){var usersTable={init:async function(page){await usersTable.appendTable(page)},appendTable:async function(){let h_tr=document.querySelector("thead tr"),courseid=M.cfg.courseId,statsString=await Str.get_string("stats","tiny_cursive");if(!h_tr.querySelector("#stats")){const sixthHeader=h_tr.querySelector("th:nth-child(7)"),newHeader=document.createElement("th");newHeader.className="header c7",newHeader.setAttribute("scope","col"),newHeader.id="stats",newHeader.textContent=statsString,sixthHeader.after(newHeader)}document.querySelector("tbody").querySelectorAll("tr").forEach((row=>{const input=row.querySelector("td").querySelector("input");if(input){const userId=input.id.slice(4);if(userId){const sixthTd=row.querySelector("td:last-child"),color="font-size:24px;color:black;text-decoration:none",link=mdlcfg.wwwroot+"/lib/editor/tiny/plugins/cursive/writing_report.php?userid="+userId+"&courseid="+courseid,icon="fa fa-area-chart",thunderIcon=document.createElement("td"),anchor=document.createElement("a"),iconElement=document.createElement("i");anchor.href=link,anchor.dataset.id=userId,iconElement.className=icon,iconElement.style=color,anchor.appendChild(iconElement),thunderIcon.appendChild(anchor),sixthTd.after(thunderIcon)}}}));document.querySelectorAll(".page-item, .header").forEach((element=>{element.addEventListener("click",(()=>{setTimeout((()=>{document.querySelector("#stats")||usersTable.init()}),1800)}))}))}};return usersTable}));

//# sourceMappingURL=append_participants_table.min.js.map