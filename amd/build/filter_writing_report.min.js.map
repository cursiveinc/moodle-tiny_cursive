{"version":3,"file":"filter_writing_report.min.js","sources":["../src/filter_writing_report.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module     tiny_cursive/filter_writing_report\n * @category TinyMCE Editor\n * @copyright  CTI <info@cursivetechnology.com>\n * @author Brain Station 23 <elearning@brainstation-23.com>\n */\n\ndefine([\"core/ajax\", \"core/templates\"], function(AJAX, templates) {\n  return {\n    init: function(page) {\n      document.getElementById(\"id_coursename\").addEventListener(\"change\", function() {\n        const courseId = this.value;\n        const promise1 = AJAX.call([\n          {\n            methodname: \"cursive_filtered_writing\",\n            args: {\n              id: courseId,\n            },\n          },\n        ]);\n\n        promise1[0].done(function(json) {\n          const data = JSON.parse(json);\n          const context = {\n            data: data.data,\n            page: page,\n          };\n\n          templates.render(\"tiny_cursive/user_table\", context)\n            .then(function(html) {\n              const filteredUser = document.getElementById(\"id_username\");\n              filteredUser.innerHTML = html;\n              return true;\n            })\n            .catch(function(error) {\n              window.console.error(\"Error rendering template:\", error);\n            });\n        }).fail(function(error) {\n          window.console.error(\"AJAX request failed:\", error);\n        });\n      });\n    },\n  };\n});\n\n"],"names":["define","AJAX","templates","init","page","document","getElementById","addEventListener","courseId","this","value","call","methodname","args","id","done","json","context","data","JSON","parse","render","then","html","innerHTML","catch","error","window","console","fail"],"mappings":"AAsBAA,4CAAO,CAAC,YAAa,mBAAmB,SAASC,KAAMC,iBAC9C,CACLC,KAAM,SAASC,MACbC,SAASC,eAAe,iBAAiBC,iBAAiB,UAAU,iBAC5DC,SAAWC,KAAKC,MACLT,KAAKU,KAAK,CACzB,CACEC,WAAY,2BACZC,KAAM,CACJC,GAAIN,aAKD,GAAGO,MAAK,SAASC,YAElBC,QAAU,CACdC,KAFWC,KAAKC,MAAMJ,MAEXE,KACXd,KAAMA,MAGRF,UAAUmB,OAAO,0BAA2BJ,SACzCK,MAAK,SAASC,aACQlB,SAASC,eAAe,eAChCkB,UAAYD,MAClB,KAERE,OAAM,SAASC,OACdC,OAAOC,QAAQF,MAAM,4BAA6BA,aAErDG,MAAK,SAASH,OACfC,OAAOC,QAAQF,MAAM,uBAAwBA"}