{"version":3,"file":"user_report_addition.min.js","sources":["../src/user_report_addition.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Module to handle user report additions in the Tiny editor.\r\n * This module manages the display of course information in the report interface.\r\n *\r\n * @module     tiny_cursive/user_report_addition\r\n * @copyright  2024 CTI <your@email.com>\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\nimport {get_string as getString} from 'core/str';\r\nexport const init = () => {\r\n    const courseNameElement = document.querySelector('#id_courseid option[selected]');\r\n\r\n    if (!courseNameElement) {\r\n        window.history.back();\r\n    }\r\n    getString('coursename', 'tiny_cursive').then(courseName => {\r\n        const forumTestingText = courseNameElement.textContent.trim();\r\n        const h5Element = document.createElement('div');\r\n\r\n        h5Element.classList.add('row', 'align-items-center', 'pb-4');\r\n        const label = document.createElement('label');\r\n\r\n        label.textContent = courseName;\r\n        label.classList.add('col-md-3', 'col-form-label', 'd-flex', 'pb-0', 'pr-md-0');\r\n        h5Element.appendChild(label);\r\n\r\n        const label2 = document.createElement('label');\r\n        label2.textContent = forumTestingText;\r\n        label2.classList.add('col-md-9', 'col-form-label', 'd-flex', 'pb-0', 'pr-md-0');\r\n        h5Element.appendChild(label2);\r\n\r\n        const moduleIdElement = document.getElementById('fitem_id_moduleid');\r\n        const parentElement = moduleIdElement.parentElement;\r\n        parentElement.insertBefore(h5Element, moduleIdElement);\r\n        document.getElementById('fitem_id_courseid').style.display = 'none';\r\n        return h5Element;\r\n    }).catch(error =>{\r\n        window.console.log(error);\r\n    });\r\n\r\n};"],"names":["courseNameElement","document","querySelector","window","history","back","then","courseName","forumTestingText","textContent","trim","h5Element","createElement","classList","add","label","appendChild","label2","moduleIdElement","getElementById","parentElement","insertBefore","style","display","catch","error","console","log"],"mappings":"sLAwBoB,WACVA,kBAAoBC,SAASC,cAAc,iCAE5CF,mBACDG,OAAOC,QAAQC,2BAET,aAAc,gBAAgBC,MAAKC,mBACnCC,iBAAmBR,kBAAkBS,YAAYC,OACjDC,UAAYV,SAASW,cAAc,OAEzCD,UAAUE,UAAUC,IAAI,MAAO,qBAAsB,cAC/CC,MAAQd,SAASW,cAAc,SAErCG,MAAMN,YAAcF,WACpBQ,MAAMF,UAAUC,IAAI,WAAY,iBAAkB,SAAU,OAAQ,WACpEH,UAAUK,YAAYD,aAEhBE,OAAShB,SAASW,cAAc,SACtCK,OAAOR,YAAcD,iBACrBS,OAAOJ,UAAUC,IAAI,WAAY,iBAAkB,SAAU,OAAQ,WACrEH,UAAUK,YAAYC,cAEhBC,gBAAkBjB,SAASkB,eAAe,4BAC1BD,gBAAgBE,cACxBC,aAAaV,UAAWO,iBACtCjB,SAASkB,eAAe,qBAAqBG,MAAMC,QAAU,OACtDZ,aACRa,OAAMC,QACLtB,OAAOuB,QAAQC,IAAIF"}