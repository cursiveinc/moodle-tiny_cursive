{"version":3,"file":"user_report_addition.min.js","sources":["../src/user_report_addition.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module to handle user report additions in the Tiny editor.\n * This module manages the display of course information in the report interface.\n *\n * @module     tiny_cursive/user_report_addition\n * @copyright  2024 CTI <your@email.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport {get_string as getString} from 'core/str';\nexport const init = () => {\n    const courseNameElement = document.querySelector('#id_courseid option[selected]');\n\n    if (!courseNameElement) {\n        window.history.back();\n    }\n    getString('coursename', 'tiny_cursive').then(courseName => {\n        const forumTestingText = courseNameElement.textContent.trim();\n        const h5Element = document.createElement('div');\n\n        h5Element.classList.add('row', 'align-items-center', 'pb-4');\n        const label = document.createElement('label');\n\n        label.textContent = courseName;\n        label.classList.add('col-md-3', 'col-form-label', 'd-flex', 'pb-0', 'pr-md-0');\n        h5Element.appendChild(label);\n\n        const label2 = document.createElement('label');\n        label2.textContent = forumTestingText;\n        label2.classList.add('col-md-9', 'col-form-label', 'd-flex', 'pb-0', 'pr-md-0');\n        h5Element.appendChild(label2);\n\n        const moduleIdElement = document.getElementById('fitem_id_moduleid');\n        const parentElement = moduleIdElement.parentElement;\n        parentElement.insertBefore(h5Element, moduleIdElement);\n        document.getElementById('fitem_id_courseid').style.display = 'none';\n        return h5Element;\n    }).catch(error =>{\n        window.console.log(error);\n    });\n\n};"],"names":["courseNameElement","document","querySelector","window","history","back","then","courseName","forumTestingText","textContent","trim","h5Element","createElement","classList","add","label","appendChild","label2","moduleIdElement","getElementById","parentElement","insertBefore","style","display","catch","error","console","log"],"mappings":"sLAwBoB,WACVA,kBAAoBC,SAASC,cAAc,iCAE5CF,mBACDG,OAAOC,QAAQC,2BAET,aAAc,gBAAgBC,MAAKC,mBACnCC,iBAAmBR,kBAAkBS,YAAYC,OACjDC,UAAYV,SAASW,cAAc,OAEzCD,UAAUE,UAAUC,IAAI,MAAO,qBAAsB,cAC/CC,MAAQd,SAASW,cAAc,SAErCG,MAAMN,YAAcF,WACpBQ,MAAMF,UAAUC,IAAI,WAAY,iBAAkB,SAAU,OAAQ,WACpEH,UAAUK,YAAYD,aAEhBE,OAAShB,SAASW,cAAc,SACtCK,OAAOR,YAAcD,iBACrBS,OAAOJ,UAAUC,IAAI,WAAY,iBAAkB,SAAU,OAAQ,WACrEH,UAAUK,YAAYC,cAEhBC,gBAAkBjB,SAASkB,eAAe,4BAC1BD,gBAAgBE,cACxBC,aAAaV,UAAWO,iBACtCjB,SAASkB,eAAe,qBAAqBG,MAAMC,QAAU,OACtDZ,aACRa,OAAMC,QACLtB,OAAOuB,QAAQC,IAAIF"}